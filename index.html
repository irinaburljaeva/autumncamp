<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Интерактивная карта</title>
<style>
  html,body{height:100%;margin:0;background:#111;color:#eee;font:16px/1.45 system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif}
  .wrap{max-width:1200px;margin:0 auto;padding:10px 12px 28px}
  .board{position:relative;background:#000;border-radius:14px;overflow:hidden;box-shadow:0 15px 40px rgba(0,0,0,.35)}
  .board .img{display:block;width:100%;height:auto;vertical-align:top;user-select:none;pointer-events:none}
  svg{display:block;width:100%;height:auto}
  a{cursor:pointer;text-decoration:none}
  .hotspot{
    fill:rgba(255,255,255,0);stroke:transparent;stroke-width:2;
    transition:fill .18s ease,stroke .18s ease;
  }
  a:hover .hotspot{fill:rgba(255,255,255,.06);stroke:rgba(255,255,255,.25)}
  footer{opacity:.8;margin-top:12px;font-size:13px;text-align:center}
</style>
</head>
<body>
<div class="wrap">
  <div class="board">
    <img class="img" src="camp-map.jpg" alt="Карта"/>

    <svg viewBox="0 0 1600 1000" preserveAspectRatio="xMidYMid meet" aria-label="Карта — кликабельные зоны">
      <a href="kitchen.html" target="_blank" rel="noopener" data-sound="kitchen" aria-label="Столовая">
        <rect class="hotspot" x="250" y="350" width="180" height="90" rx="16"></rect>
      </a>

      <a href="sport.html" target="_blank" rel="noopener" data-sound="sport" aria-label="Спортзал">
        <rect class="hotspot" x="500" y="400" width="150" height="80" rx="16"></rect>
      </a>

      <a href="disco.html" target="_blank" rel="noopener" data-sound="disco" aria-label="Дискотека">
        <rect class="hotspot" x="1050" y="300" width="160" height="90" rx="14"></rect>
      </a>

      <a href="rooms.html" target="_blank" rel="noopener" data-sound="rooms" aria-label="Комнаты отдыха">
        <rect class="hotspot" x="900" y="650" width="180" height="90" rx="14"></rect>
      </a>

      <a href="cinema.html" target="_blank" rel="noopener" data-sound="cinema" aria-label="Кинозал">
        <rect class="hotspot" x="1080" y="480" width="130" height="80" rx="14"></rect>
      </a>

      <a href="relax.html" target="_blank" rel="noopener" data-sound="relax" aria-label="Беседка">
        <rect class="hotspot" x="300" y="650" width="120" height="90" rx="14"></rect>
      </a>

      <a href="fire.html" target="_blank" rel="noopener" data-sound="fire" aria-label="Костёр">
        <circle class="hotspot" cx="460" cy="720" r="45"></circle>
      </a>

      <a href="ducks.html" target="_blank" rel="noopener" data-sound="ducks" aria-label="Палаты">
        <rect class="hotspot" x="200" y="500" width="160" height="85" rx="14"></rect>
      </a>

      <!-- новая локация -->
      <a href="sanatorium.html" target="_blank" rel="noopener" data-sound="sanatorium" aria-label="Санаторий">
        <rect class="hotspot" x="700" y="520" width="210" height="100" rx="14"></rect>
      </a>
    </svg>
  </div>

  <footer>Кликните по зданию — откроется страница и прозвучит короткий звук.</footer>
</div>

<script>
const soundFiles = {
  kitchen:    'kitchen.mp3',
  sport:      'sport.mp3',
  disco:      'disco.mp3',
  rooms:      'rooms.mp3',
  cinema:     'cinema.mp3',
  relax:      'relax.mp3',
  fire:       'fire.mp3',
  ducks:      'ducks.mp3',
  sanatorium: 'sanatorium.mp3'
};

const sounds = {};
for (const [key, file] of Object.entries(soundFiles)) {
  const a = new Audio(file);
  a.preload = 'auto';
  sounds[key] = a;
}

document.querySelectorAll('svg a[data-sound]').forEach(a=>{
  a.addEventListener('click', ()=>{
    const key = a.getAttribute('data-sound');
    const audio = sounds[key];
    if (!audio) return;
    try{
      audio.currentTime = 0;
      audio.play().catch(()=>{});
      setTimeout(()=>{ try{ audio.pause(); }catch(_){ } }, 3000);
    }catch(_){}
  });
});
</script>
</body>
</html>
